<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SuhAI - AI Weather Assistant</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¤–</text></svg>"
    />
  </head>
  <body>
    <main class="app-container">
      <!-- NAVIGATION DOCK -->
      <nav class="nav-dock">
        <div class="nav-brand">
          <div class="icon-box accent">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M12 2a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2 2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"
              />
              <path
                d="M12 22a2 2 0 0 1 2-2v-2a2 2 0 0 1-2-2 2 2 0 0 1-2 2v2a2 2 0 0 1 2 2z"
              />
              <path
                d="M22 12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2a2 2 0 0 1 2 2z"
              />
              <path
                d="M2 12a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v0a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2z"
              />
              <rect x="7" y="7" width="10" height="10" rx="3" />
            </svg>
          </div>
          <span>SuhAI Chat</span>
        </div>

        <div class="nav-links">
          <a href="/" class="nav-link">Dashboard</a>
          <a href="/forecast.html" class="nav-link">Prediksi</a>
          <a href="/heatmap.html" class="nav-link">Peta Panas</a>
          <a href="/ai.html" class="nav-link active">Ask AI</a>
        </div>

        <div class="flex-center gap-2">
          <button id="themeToggle" class="icon-box" aria-label="Toggle Theme">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            </svg>
          </button>
        </div>
      </nav>

      <!-- BENTO GRID LAYOUT -->
      <div class="bento-grid h-full" style="grid-template-rows: 1fr auto">
        <!-- CHAT INTERFACE (Main) -->
        <div
          class="bento-card no-hover col-span-12 lg:col-span-8 flex flex-col"
          style="height: 100%"
        >
          <!-- Chat Header -->
          <div class="flex-between border-b border-white/5 pb-4 mb-4">
            <div>
              <h2
                class="text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent"
              >
                Weathera
              </h2>
              <p class="text-sm text-dim">Powered by Gemini (Mock)</p>
            </div>
            <div class="icon-box bg-subtle">âœ¨</div>
          </div>

          <!-- Chat History -->
          <div
            id="chatHistory"
            class="flex-1 min-h-0 overflow-y-auto space-y-4 pr-2 custom-scrollbar"
          >
            <!-- Welcome Message -->
            <div class="chat-message-row ai">
              <div class="chat-avatar ai">AI</div>
              <div class="chat-bubble">
                Halo! Saya Weathera. Ada yang bisa saya bantu mengenai cuaca
                hari ini?
                <br /><br />
                Coba tanyakan:
                <ul class="list-disc ml-4 mt-2 text-dim text-xs">
                  <li>"Apakah hari ini akan hujan?"</li>
                  <li>"Saran pakaian untuk cuaca besok?"</li>
                  <li>"Jelaskan kondisi angin saat ini."</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Input Area -->
          <div class="mt-4 pt-4 border-t border-white/5 relative z-20">
            <form id="chatForm" class="chat-input-wrapper">
              <input
                type="text"
                id="chatInput"
                class="chat-input-field"
                placeholder="Tanya Weathera..."
                autocomplete="off"
              />
              <button type="submit" class="chat-send-btn">
                <svg
                  width="18"
                  height="18"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                >
                  <line x1="22" y1="2" x2="11" y2="13"></line>
                  <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
              </button>
            </form>
          </div>
        </div>

        <!-- SIDEBAR: CONTEXT & PROMPTS -->
        <div class="col-span-12 lg:col-span-4 flex flex-col gap-10">
          <!-- Context Card -->
          <div class="bento-card mb-8">
            <span class="label-sm mb-5">Current Context</span>
            <div
              id="aiContext"
              class="p-4 bg-white/5 rounded-lg text-sm space-y-3"
            >
              <div class="flex-between">
                <span class="text-dim">Location</span>
                <span class="font-mono text-blue-300" id="ctxCity">--</span>
              </div>
              <div class="flex-between">
                <span class="text-dim">Temp</span>
                <span class="font-mono text-blue-300" id="ctxTemp">--Â°C</span>
              </div>
              <div class="flex-between">
                <span class="text-dim">Condition</span>
                <span class="font-mono text-blue-300" id="ctxCond">--</span>
              </div>
            </div>
            <div class="flex-center gap-2">
              <div class="icon-box accent">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                  ></path>
                </svg>
              </div>
              <h1 class="text-2xl font-bold text-white">Chat with Weathera</h1>
            </div>
            <p class="text-xs text-dim mt-3 italic">
              AI uses this live data to answer your questions accurately.
            </p>
          </div>

          <!-- Quick Prompts -->
          <div class="bento-card flex-1">
            <span class="label-sm mb-3">Quick Prompts</span>
            <div class="space-y-3">
              <button class="quick-prompt">â˜”ï¸ Apakah perlu bawa payung?</button>
              <button class="quick-prompt">ğŸ‘• Saran pakaian hari ini</button>
              <button class="quick-prompt">
                ğŸš— Apakah aman untuk bepergian?
              </button>
              <button class="quick-prompt">
                ğŸ¥ Apa saran kesehatan hari ini?
              </button>
              <button class="quick-prompt">
                ğŸŒ¬ï¸ Bagaimana kecepatan angin?
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- FOOTER -->
      <footer class="site-footer mt-auto">
        <p>&copy; 2026 SuhAI Weather System.</p>
      </footer>
    </main>

    <!-- MODULES -->
    <script type="module" src="js/shared.js"></script>
    <script type="module" src="js/suhAI-data.js"></script>
    <!-- Backend needed for Context Sync -->
    <script type="module" src="js/suhAI-backend.js"></script>
    <script type="module" src="js/suhAI-chat.js"></script>
  </body>
</html>
